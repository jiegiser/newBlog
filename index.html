<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>jiegiser的博客</title>
<meta name="description" content="温故而知新">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://jiegiser.github.io/newBlog/favicon.ico?v=1592216196027">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://jiegiser.github.io/newBlog/styles/main.css">



<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>

<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />



  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://jiegiser.github.io/newBlog">
        <img src="https://jiegiser.github.io/newBlog/images/avatar.png?v=1592216196027" class="site-logo">
        <h1 class="site-title">jiegiser的博客</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="https://jiegiser.github.io/newBlog" class="site-nav">
            首页
          </a>
        
      
        
          <a href="https://jiegiser.github.io/newBlog/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="https://jiegiser.github.io/newBlog/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="https://jiegiser.github.io/newBlog/post/about/" class="site-nav">
            关于
          </a>
        
      
        
          <a href="https://blog.csdn.net/cj9551" class="site-nav">
            CSDN
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      温故而知新
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/jiegiser" target="_blank">jiegiser</a> | <a class="rss" href="https://jiegiser.github.io/newBlog/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          
            <article class="post-item">
              <div class="left">
                <a href="https://jiegiser.github.io/newBlog/post/webgis-shi-zhan-xi-lie-si-ji-yu-react-hookstypescriptarcgis-api-for-js3x-de-li-zi">
                  <h2 class="post-title">WebGIS实战系列 四 基于React Hooks、Typescript、arcgis API for js3.x 的例子</h2>
                </a>
                <div class="post-date">
                  2020-06-15
                </div>
                <div class="post-abstract">
                  <p>此例子是基于 React Hooks、TS 以及 arcgis api for js 的例子；该项目还在完善中；<br>
github地址：https://github.com/jiegiser/arcgis3.x_examples 觉得不错的话可以给个 <code>star</code>；<br>
已完成下面内容：</p>
<hr>
<h3 id="加载-osm-地图">加载 osm 地图（√）</h3>
<figure data-type="image" tabindex="1"><img src="https://img-blog.csdnimg.cn/20200524210528571.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NqOTU1MQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></figure>
<h3 id="加载天地图">加载天地图（√）</h3>
<figure data-type="image" tabindex="2"><img src="https://img-blog.csdnimg.cn/20200524210559834.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NqOTU1MQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></figure>
<h3 id="加载高德地图">加载高德地图（√）</h3>
<figure data-type="image" tabindex="3"><img src="https://img-blog.csdnimg.cn/20200524210613361.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NqOTU1MQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></figure>
<h3 id="加载百度地图">加载百度地图（√）</h3>
<figure data-type="image" tabindex="4"><img src="https://img-blog.csdnimg.cn/20200605151239691.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NqOTU1MQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></figure>
<h3 id="人员定位">人员定位（√）</h3>
<figure data-type="image" tabindex="5"><img src="https://img-blog.csdnimg.cn/20200525115318971.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NqOTU1MQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></figure>
<h3 id="线标注">线标注（√）</h3>
<figure data-type="image" tabindex="6"><img src="https://img-blog.csdnimg.cn/20200531121048345.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NqOTU1MQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></figure>
<h3 id="加载热力图">加载热力图（√）</h3>
<figure data-type="image" tabindex="7"><img src="https://img-blog.csdnimg.cn/20200604194734583.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NqOTU1MQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></figure>
<h3 id="自定义绘制箭头路线">自定义绘制箭头路线（√）</h3>
<figure data-type="image" tabindex="8"><img src="https://img-blog.csdnimg.cn/20200606164950852.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NqOTU1MQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></figure>
<h3 id="项目存在的问题">项目存在的问题</h3>
<ul>
<li>没有充分发挥 ts 的作用；后续完善 arcgis api 的 ts 支持。</li>
</ul>
<p>通过查资料发现 esri 发布的 @types/arcgis-js-api 虽然是有 3.x 的版本，但是只支持 4 的版本导出 __esri 命名空间以及直接使用:</p>
<pre><code class="language-js">import Map from 'esri/map'
const map = new Map()
</code></pre>
<ul>
<li>解决方法</li>
</ul>
<p>可以通过下面的方法来进行类型注释：</p>
<pre><code class="language-js">import React, { useEffect } from 'react';
import * as esriLoader from 'esri-loader';
import IMap from 'esri/map';
import IPoint from 'esri/geometry/Point'
import ISpatialReference from 'esri/SpatialReference'
const options = {
  url: 'http://localhost/arcgis/init.js',
}
//加载脚本
esriLoader.loadScript(options)
esriLoader.loadCss(`http://localhost/arcgis/esri/css/esri.css`)
const PathReplay: React.FC = () =&gt; {
  useEffect(() =&gt; {
    initMap()
  }, [])
  const initMap =  () =&gt; {
    esriLoader.loadModules([
      'esri/map',
      'esri/geometry/Point',
      'esri/SpatialReference'
    ])
      .then(([Map, Point, SpatialReference]) =&gt; {
        const map: IMap = new Map('mapCon', {
          basemap: 'osm',
          center: [0, 0],
          zoom: 0
        })
        const spatialRe: ISpatialReference = new SpatialReference({
          wkid: 4326
        })
        // 矢量注记图层
        const PointObj: IPoint = new Point({
          x: 114.41703647375107,
          y: 23.10750961303711,
          spatialReference: spatialRe
        })
        map.centerAndZoom(PointObj, 11)
      })
      .catch(err =&gt; {
        console.error(err)
      })
  }
  return (
    &lt;div id=&quot;mapCon&quot;&gt;
    &lt;/div&gt;
  )
}
export default PathReplay;
</code></pre>
<p>这样写 arcgis API 就会有对应的提示：</p>
<figure data-type="image" tabindex="9"><img src="https://img-blog.csdnimg.cn/20200525150404695.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NqOTU1MQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></figure>
<hr>
<p>更新</p>
<h3 id="react-hooks-中-ts-类型注释">react hooks 中 ts 类型注释</h3>
<pre><code class="language-js">// 可以推断 age 是 number类型
const [age, setAge] = useState(20);

// 初始化值为 null 或者 undefined时，需要显示指定 name 的类型,
// name 为 string 或者 undefined
const [name, setName] = useState&lt;string&gt;();

// 初始化值为一个对象时
interface People {
    name: string;
    age: number;
    country?: string;
}
const [owner, setOwner] = useState&lt;People&gt;({name: 'jiegiser', age: 18});

// 初始化值是一个数组时
const [members, setMembers] = useState&lt;People[]&gt;([]);

</code></pre>

                </div>
              </div>
              
                <a class="right" href="https://jiegiser.github.io/newBlog/post/webgis-shi-zhan-xi-lie-si-ji-yu-react-hookstypescriptarcgis-api-for-js3x-de-li-zi">
                  <div class="feature-container" style="background-image: url('https://img-blog.csdnimg.cn/20200604194734583.png')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://jiegiser.github.io/newBlog/post/geoserver-zhong-wms-fu-wu-shuo-ming">
                  <h2 class="post-title">geoserver 中 WMS 服务说明</h2>
                </a>
                <div class="post-date">
                  2019-12-21
                </div>
                <div class="post-abstract">
                  
                </div>
              </div>
              
                <a class="right" href="https://jiegiser.github.io/newBlog/post/geoserver-zhong-wms-fu-wu-shuo-ming">
                  <div class="feature-container" style="background-image: url('https://jiegiser.github.io/newBlog/post-images/geoserver-zhong-wms-fu-wu-shuo-ming.png')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://jiegiser.github.io/newBlog/post/vue-bi-ji">
                  <h2 class="post-title">Vue笔记</h2>
                </a>
                <div class="post-date">
                  2019-12-06
                </div>
                <div class="post-abstract">
                  <h4 id="1-传统的-mvp-开发模式与-mvvm-开发模式对比">1. 传统的 MVP 开发模式与 MVVM 开发模式对比</h4>
<ol>
<li>对于传统的<code>mvp</code>开发模式，<code>m</code>也就是<code>model</code>一般是通过发送<code>ajax</code>请求获取到的数据，<code>v</code>也就是视图，<code>p</code>就是<code>Presenter</code>相当于控制器，</li>
</ol>

                </div>
              </div>
              
                <a class="right" href="https://jiegiser.github.io/newBlog/post/vue-bi-ji">
                  <div class="feature-container" style="background-image: url('https://jiegiser.github.io/newBlog/post-images/vue-bi-ji.png')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://jiegiser.github.io/newBlog/post/webpack4x-ji-chu-zhi-shi-bi-ji">
                  <h2 class="post-title">webpack4.X 基础知识笔记</h2>
                </a>
                <div class="post-date">
                  2019-12-06
                </div>
                <div class="post-abstract">
                  <h4 id="1-webpack-基础知识">1. WebPack 基础知识</h4>
<p>首先需要明白<code>webpack</code>为什么会出现，作用是什么，总之他就是一个模块打包工具；<br>
<code>commonJS</code>的模块导出方式为:</p>

                </div>
              </div>
              
                <a class="right" href="https://jiegiser.github.io/newBlog/post/webpack4x-ji-chu-zhi-shi-bi-ji">
                  <div class="feature-container" style="background-image: url('https://jiegiser.github.io/newBlog/post-images/webpack4x-ji-chu-zhi-shi-bi-ji.png')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://jiegiser.github.io/newBlog/post/webpack-4x-gao-ji-gai-nian-bi-ji">
                  <h2 class="post-title">WebPack 4.X 高级概念笔记</h2>
                </a>
                <div class="post-date">
                  2019-12-06
                </div>
                <div class="post-abstract">
                  <h4 id="1-tree-shaking-概念详解">1. Tree Shaking 概念详解</h4>
<h5 id="11-babelpolyfill与babelpreset-env之间的引用小冲突">1.1 babel/polyfill与babel/preset-env之间的引用小冲突</h5>
<p>在<code>webpack 4.x</code>的版本中，如果我们在业务代码里面引用了<code>impport @babel/polyfill</code>，而且我们还对<code>babel-loader</code>中的这个插件<code>@babel/preset-env</code>配置了<code>useBuiltIns: 'usage'</code>，我们在打包的时候，会提示下面的信息：</p>

                </div>
              </div>
              
                <a class="right" href="https://jiegiser.github.io/newBlog/post/webpack-4x-gao-ji-gai-nian-bi-ji">
                  <div class="feature-container" style="background-image: url('https://jiegiser.github.io/newBlog/post-images/webpack-4x-gao-ji-gai-nian-bi-ji.png')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://jiegiser.github.io/newBlog/post/webpack-shi-zhan-pei-zhi-an-li">
                  <h2 class="post-title">Webpack实战配置案例</h2>
                </a>
                <div class="post-date">
                  2019-12-06
                </div>
                <div class="post-abstract">
                  <h4 id="1-library打包">1. Library打包</h4>
<h5 id="11-对库文件进行打包">1.1 对库文件进行打包</h5>
<p>库文件的打包：我们新建一个工程，新建<code>index.js math.js string.js</code>,代码如下：</p>

                </div>
              </div>
              
                <a class="right" href="https://jiegiser.github.io/newBlog/post/webpack-shi-zhan-pei-zhi-an-li">
                  <div class="feature-container" style="background-image: url('https://jiegiser.github.io/newBlog/post-images/webpack-shi-zhan-pei-zhi-an-li.png')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://jiegiser.github.io/newBlog/post/es6-bi-ji">
                  <h2 class="post-title">ES6笔记</h2>
                </a>
                <div class="post-date">
                  2019-12-06
                </div>
                <div class="post-abstract">
                  <h4 id="1-变量">1. 变量</h4>
<ul>
<li><code>var</code>声明的变量是<code>function scope</code>也就是在函数中可以访问到，并不是在大括号里面声明的，外层就访问不到。<code>let const</code>声明的变量都是<code>block scope</code>块级作用域，也就是在大括号里面可以访问到。</li>
</ul>

                </div>
              </div>
              
                <a class="right" href="https://jiegiser.github.io/newBlog/post/es6-bi-ji">
                  <div class="feature-container" style="background-image: url('https://jiegiser.github.io/newBlog/post-images/es6-bi-ji.png')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://jiegiser.github.io/newBlog/post/webpack-di-ceng-yuan-li-ji-jiao-shou-jia-gong-ju-fen-xi">
                  <h2 class="post-title">Webpack底层原理及脚手架工具分析</h2>
                </a>
                <div class="post-date">
                  2019-12-06
                </div>
                <div class="post-abstract">
                  <h4 id="1-如何编写一个loader">1. 如何编写一个Loader</h4>
<h5 id="11-实现一个简单的loader">1.1 实现一个简单的Loader</h5>
<p>我们开始写一个打包之后的文件，将<code>js</code>代码中<code>jie</code>这个字符串替换为<code>world</code>的一个<code>loader</code>，首先我们新建一个功能，使用<code>npm init</code>，然后进行安装<code>webpack</code>：<code>npm install webpack webpack-cli --save-dev</code>，安装完之后，新建一个文件及<code>src</code>以及<code>loaders</code>，然后分别在对应的文件夹中新建<code>index.js</code>以及<code>replace.loaders.js</code>文件。</p>

                </div>
              </div>
              
                <a class="right" href="https://jiegiser.github.io/newBlog/post/webpack-di-ceng-yuan-li-ji-jiao-shou-jia-gong-ju-fen-xi">
                  <div class="feature-container" style="background-image: url('https://jiegiser.github.io/newBlog/post-images/webpack-di-ceng-yuan-li-ji-jiao-shou-jia-gong-ju-fen-xi.png')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://jiegiser.github.io/newBlog/post/suan-fa">
                  <h2 class="post-title">算法</h2>
                </a>
                <div class="post-date">
                  2019-12-06
                </div>
                <div class="post-abstract">
                  <h4 id="1-动态规划算法">1. 动态规划算法：</h4>
<p>题目：<br>
给定一个字符串 (s) 和一个字符模式 (p) ，实现一个支持 '?' 和 '*' 的通配符匹配。</p>

                </div>
              </div>
              
                <a class="right" href="https://jiegiser.github.io/newBlog/post/suan-fa">
                  <div class="feature-container" style="background-image: url('https://jiegiser.github.io/newBlog/post-images/suan-fa.png')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://jiegiser.github.io/newBlog/post/qian-duan-bi-ji">
                  <h2 class="post-title">前端笔记</h2>
                </a>
                <div class="post-date">
                  2019-12-06
                </div>
                <div class="post-abstract">
                  <h5 id="1-js-的对象">1. JS 的对象</h5>
<ul>
<li><code>JS</code>对象中独有的特性：对象具有高度的动态性，因为<code>JavaScript</code> 赋予了使用在运行时为对象添加状态和行为的能力。<code>JavaSCrpipt</code>允许运行时向对象添加属性，这就跟绝大多数基于类的、静态的对象设计完全不同。</li>
</ul>

                </div>
              </div>
              
                <a class="right" href="https://jiegiser.github.io/newBlog/post/qian-duan-bi-ji">
                  <div class="feature-container" style="background-image: url('https://jiegiser.github.io/newBlog/post-images/qian-duan-bi-ji.jfif')">
                  </div>
                </a>
              
            </article>
          

          <div class="pagination-container">
  
  
    <a href="https://jiegiser.github.io/newBlog/page/2/" class="next">下一页 <i class="icon-arrow-ios-forward-outline"></i></a>
  
</div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>




  </body>
</html>
